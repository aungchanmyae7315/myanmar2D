(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{352:function(e,t,o){e.exports=o.p+"img/4a0c45f.png"},400:function(e,t,o){var content=o(520);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(8).default)("09ff5c61",content,!0,{sourceMap:!1})},519:function(e,t,o){"use strict";var r=o(400);o.n(r).a},520:function(e,t,o){(e.exports=o(7)(!1)).push([e.i,'.profile_edit .el-button.is-round{width:100%;background:#158220;color:#fff;font-weight:700;margin-top:50px}.profile_edit .el-input__inner{background-color:#e6e6e6;color:#666;border-radius:23px}.profile_edit{padding:0 20px;text-align:center}.profile_edit p{color:#858585}.profile_edit .el-header{background-color:#fff}.el-page-header__left{margin:0}.profile_edit .el-page-header{line-height:43px;color:#000}.profile_edit .el-page-header__content{color:#000;font-weight:700}.profile_edit .avatar-upload{position:relative;max-width:205px;margin:50px auto}.profile_edit .avatar-upload .avatar-edit{position:absolute;right:30px;z-index:1;bottom:0}.profile_edit .avatar-upload .avatar-edit input{display:none}.profile_edit .avatar-upload .avatar-edit input+label{display:inline-block;width:34px;height:34px;margin-bottom:0;border-radius:100%;background:#fff;border:1px solid transparent;box-shadow:0 2px 4px 0 rgba(0,0,0,.12);cursor:pointer;font-weight:400;transition:all .2s ease-in-out}.profile_edit .avatar-upload .avatar-edit input+label:hover{background:#f1f1f1;border-color:#d6d6d6}.profile_edit .avatar-upload .avatar-edit input+label:after{content:"\\f040";font-family:FontAwesome;color:green;position:absolute;top:4px;left:0;right:0;text-align:center;margin:auto}#imagePreview,.profile_edit .avatar-upload .avatar-preview{width:140px;height:140px;position:relative;border-radius:100%;box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}.profile_edit .avatar-upload .avatar-preview>div{width:100%;height:100%;border-radius:100%;background-size:cover;background-repeat:no-repeat;background-position:50%}',""])},663:function(e,t,o){"use strict";o.r(t);o(25),o(48);var r={mounted:function(){var e=this;this.$nextTick((function(){e.$nuxt.$loading.start(),setTimeout((function(){return e.$nuxt.$loading.finish()}),500)}));var t=localStorage.getItem("token");t&&(this.$axios.get("/v2/v1/profile",{headers:{Authorization:"Bearer "+t}}).then((function(t){e.profile=t.data.data,console.log(e.profile.name)})),this.$axios.get("/v2/v1/referal_code",{headers:{Authorization:"Bearer "+t}}).then((function(t){e.referal_code=t.data.data.generate_code,console.log(e.referal_code)})))},data:function(){return{ruleForm:{edit_name:""},referal_code:"",profile:"",image:""}},methods:{goBack:function(){this.$router.push("/me?lang=".concat(this.$store.state.locale))},onFileChange:function(e){(e.target.files||e.dataTransfer.files).length&&(this.image=e.target.files[0],this.url=URL.createObjectURL(this.image))},removeImage:function(e){this.image=""},profile_edit:function(){var e=this,t=localStorage.getItem("token"),o=new FormData;o.append("profile",this.image),console.log(o),this.$axios.post("/v2/v1/profile-photo/update",o,{headers:{Authorization:"Bearer "+t,"content-type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var r={name:$("#ok").val()};this.$axios.post("/v2/v1/profile/update",r,{headers:{Authorization:"Bearer "+t}}).then((function(t){console.log(t),console.log(e.name_update=t.data.data)})),this.$router.push("/me?lang=".concat(this.$store.state.locale))}}},l=(o(519),o(2)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main_container profile_edit"},[r("el-header",[r("el-page-header",{attrs:{title:"",content:""+e.$t("profile")},on:{back:e.goBack}})],1),e._v(" "),e.image?r("div",[r("div",{staticClass:"avatar-upload"},[r("div",{staticClass:"avatar-edit"},[r("input",{attrs:{type:"file",id:"imageUpload",accept:".png, .jpg, .jpeg"},on:{change:e.onFileChange}}),e._v(" "),r("label",{attrs:{for:"imageUpload"}})]),e._v(" "),r("div",{staticClass:"avatar-preview"},[r("img",{attrs:{src:e.url,alt:"",id:"imagePreview"}})])])]):r("div",[r("div",{staticClass:"avatar-upload"},[r("div",{staticClass:"avatar-edit"},[r("input",{attrs:{type:"file",id:"imageUpload",accept:".png, .jpg, .jpeg"},on:{change:e.onFileChange}}),e._v(" "),r("label",{attrs:{for:"imageUpload"}})]),e._v(" "),r("div",{staticClass:"avatar-preview"},[null==this.profile.profile?r("div",{attrs:{id:"imagePreview"}},[r("img",{staticStyle:{width:"140px"},attrs:{src:o(352),alt:""}})]):r("div",{attrs:{id:"imagePreview"}},[r("img",{attrs:{src:this.profile.profile,alt:"",id:"imagePreview"}})])])])]),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm}},[r("el-form-item",{staticClass:"edit_name"},[r("el-input",{attrs:{required:"",type:"text",placeholder:e.$t("full_name"),id:"ok",autocomplete:"off"},model:{value:e.profile.name,callback:function(t){e.$set(e.profile,"name",t)},expression:"profile.name"}})],1)],1),e._v(" "),r("p",[e._v(e._s(e.$t("registered_phone"))+": "+e._s(this.profile.phone))]),e._v(" "),r("p",[e._v(e._s(e.$t("my_referral_code"))+" : "+e._s(this.referal_code))]),e._v(" "),r("el-button",{attrs:{round:""},on:{click:e.profile_edit}},[e._v(e._s(e.$t("Confirm")))]),e._v(" "),r("nuxt-link",{attrs:{to:e.$t("change_password")+"?lang="+e.$store.state.locale}},[r("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("change_password_text")))])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);