(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{379:function(e,r,t){var content=t(472);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(8).default)("f43f2832",content,!0,{sourceMap:!1})},471:function(e,r,t){"use strict";var o=t(379);t.n(o).a},472:function(e,r,t){(e.exports=t(7)(!1)).push([e.i,".change_password .el-page-header__left{margin:0;padding:20px 5px}.change_password_page{padding:0 20px;max-width:480px;width:100%}.change_password .el-form-item__content{margin:0!important}.el-step__head.is-process,.el-step__title.is-process{color:#b8b8b8}.step_bar{max-width:480px;width:100%}.sign_up_text{text-align:center;margin:80px auto}.phone_input .el-input__inner{background:#eee8e8;border-radius:22px;color:#000}.change_password .phone_input{margin-bottom:20px}.change_password_page .el-button.is-round{width:100%;margin:70px auto 20px}.phone_input .el-input__prefix{color:green}",""])},638:function(e,r,t){"use strict";t.r(r);t(48);var o={layout:"loginLayout",mounted:function(){var e=this;this.$nextTick((function(){e.$nuxt.$loading.start(),setTimeout((function(){return e.$nuxt.$loading.finish()}),500)}))},data:function(){var e=this;return{active:1,ruleForm:{oldpassword:"",pass:"",checkPass:""},rules:{pass:[{validator:function(r,t,o){""===t?o(new Error(e.$t("new_password_invalid"))):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),o())},trigger:"blur"}],checkPass:[{validator:function(r,t,o){""===t?o(new Error(e.$t("new_password_invalid_again"))):t!==e.ruleForm.pass?o(new Error(e.$t("two_input_do_not_match"))):o()},trigger:"blur"}]}}},methods:{next:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var t=localStorage.getItem("token"),data={password:r.ruleForm.oldpassword};r.$axios.post("/v2/v1/check_password",data,{headers:{Authorization:"Bearer "+t}}).then((function(e){r.res_error=e.data.message,r.res_message=e.data.data,"fail"==r.res_error?r.$message({showClose:!0,message:r.$t("password_invalid"),type:"warning"}):r.active++>1&&(r.active=0)}))}))},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var t=localStorage.getItem("token");console.log(t);var data={password:r.ruleForm.pass};console.log(data),r.$axios.post("/v2/v1/change_password",data,{headers:{Authorization:"Bearer "+t}}).then((function(e){console.log(e),r.res_error=e.data.message,r.res_message=e.data.data,"fail"==r.res_error?r.$message({showClose:!0,message:"error Change Password",type:"warning"}):r.$router.push("/success_changepassword?lang=".concat(r.$store.state.locale))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},n=(t(471),t(2)),component=Object(n.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("main",[t("div",{staticClass:"change_password_page change_password"},[t("nuxt-link",{attrs:{to:e.$t("/profile_edit")+"?lang="+e.$store.state.locale}},[t("el-page-header",{staticStyle:{color:"#000"},attrs:{title:""}})],1),e._v(" "),1===e.active?t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm}},[t("div",{staticClass:"sign_up_text"},[t("h4",[e._v(e._s(e.$t("enter_your_current_password")))])]),e._v(" "),t("div",{staticClass:"phone_input"},[t("el-form-item",{attrs:{prop:"oldpassword",rules:[{required:!0,message:e.$t("what_current_password")}]}},[t("el-input",{attrs:{type:"password",placeholder:e.$t("current_password"),"prefix-icon":"el-icon-phone"},model:{value:e.ruleForm.oldpassword,callback:function(r){e.$set(e.ruleForm,"oldpassword",r)},expression:"ruleForm.oldpassword"}})],1)],1),e._v(" "),t("el-button",{attrs:{type:"success",round:""},on:{click:function(r){return e.next("ruleForm")}}},[e._v(e._s(e.$t("Next")))])],1):e._e(),e._v(" "),2===e.active?t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[t("div",{staticClass:"sign_up_text"},[t("h4",[e._v(e._s(e.$t("enter_your_new_password")))])]),e._v(" "),t("div",{staticClass:"phone_input"},[t("el-form-item",{attrs:{prop:"pass"}},[t("el-input",{attrs:{type:"password","show-password":"",placeholder:e.$t("new_password"),"prefix-icon":"el-icon-lock",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"checkPass"}},[t("el-input",{attrs:{type:"password","show-password":"",placeholder:e.$t("confirm_new_password"),"prefix-icon":"el-icon-lock",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),e._v(" "),t("p",[e._v(" "+e._s(e.$t("Password_will_be_required_withdrawal")))])],1),e._v(" "),t("el-button",{attrs:{type:"success",round:""},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v(e._s(e.$t("Confirm")))])],1):e._e(),e._v(" "),t("div",{staticClass:"step_bar"},[t("el-steps",{attrs:{active:e.active,"align-center":"","finish-status":"success"}},[t("el-step",[e._v("Hello")]),e._v(" "),t("el-step",[e._v("Tow")])],1)],1)],1)])}),[],!1,null,null,null);r.default=component.exports}}]);